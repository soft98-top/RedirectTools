#WebSiteRedirect

2020.08.11：

- 重定向存在跨域问题，所以实际上并不能很好地实现替换返回值。

- 增加修改返回数据，目前支持json数据，原理为将用户输入的数据经过编码作为 data:-URL 进行重定向使用。

- 使用方法，填写规则时，在重定向的地方以**json:**开头，后面跟上json格式的数据即可。

  chrome修改返回数据思路参考：https://www.cnblogs.com/h2zZhou/p/9235152.html

2020.08.09：

- 新增通过链接添加规则。

- 可以自己写一个文件上传到服务器，只要返回的数据格式满足给出的标准，就可以添加成功。

  - ```   json
    {
        "allRule":[
            {
                "url":"https://www.google.com/",
                "reUrl":"https://www.baidu.com/",
                "switch":"checked"
            },{
                "url":"https://www.youtube.com/",
                "reUrl":"https://www.baidu.com/",
                "switch":"checked"
            }
        ]
    }
    ```

+ url 为被重定向的网址，reUrl为重定向之后的网址，switch有两个值，checked表示开启规则，unchecked表示不开启规则。

2020.07.31：

- 新增设置代理功能，在任意页面右键，在[WebSiteRedirect]菜单下会有设置代理和取消代理。
- 代理形式：schema host/ip:port 示例：HTTP 127.0.0.1:1080
-  目前默认为输入协议下的全局代理，暂不支持自定义代理。

2020.07.30：

- 新增右键菜单 [将当前页添加到规则]，在任意页面右键，点击之后会把当前页面的网址作为原网址添加规则，点击之后会有弹框输入重定向后的网址。
- 版本号更改为1.0.0。
- 当前版本作为第一个正式版。

2020.07.29：

- 新增了全局User-Agent切换，目前不支持自定义，目前内置chrome、Firefox、IPhone、Android。
- 界面布局用表格简单优化了一下。

2020.07.27：

- 更新了规则格式，新增switch属性，用于判断当前规则是否开启。
- popup页面新增复选框，选中为开启规则，不选中为关闭规则。
- 版本号更改为0.0.2。

--------

1. 起因

   因为有用到网址重定向的需要，主要是用于替换某些指定的JS，实现某些特定的功能。最先开始是使用Gooreplacer，这也是一个Chrome插件，功能其实比我现在要实现的功能要多。但是我希望可以自己完成一个插件，自己进行定制化的修改。

2. 功能

   这个项目是一个用于网址重定向的Chrome插件，可以在点击插件图标时弹出设置页面（popup页面），此页面显示当前现存的规则，可以进行增、删、改、清空。

3. 使用说明

   将代码下载下来，然后解压到一个文件夹，在chrome扩展的开发者模式下-》加载解压缩的扩展。

4. 后续开发

   - 匹配规则

     目前的匹配是根据网址字符串是否相等进行判断的，后续希望可以添加正则匹配和重定向开关。

   + 美化

     插件的界面没有美化，我也不是很感冒，所以如果有大佬的话，希望可以帮忙修改下，谢谢。

   + 规则库

     我希望可以建一个在线规则库，在软件中增加根据链接批量添加规则。

   + 规则同步

     目前代码中使用的是chrome.storage.sync，官方文档是说可以根据chrome账号进行同步，后续希望可以自己构建同步机制。

   + 分享

     后期可以通过使用链接批量添加的功能实现分享功能。

PS.我也是从零开始，对着文章写的这个插件，如果有小伙伴一起玩就更好了，我这里附上我学习的编写插件的文章。

Chrome插件开发攻略：https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html

chrome.webRequest：https://www.cnblogs.com/h2zZhou/p/9238251.html